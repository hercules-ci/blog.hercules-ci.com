---
layout:     post
title:      Agent 0.5.0 with More Terraform and Less Configuration
date:       2019-10-04
summary:    A new agent release simplifying the binary cache configuration and introducing new terraform deployment method.
image:      terraform-unsplash-peggy-anke-SmnnJ0wdE4U.jpg
author:     roberth
tags:       hercules-ci
---


Earlier this week, we've released [agent version 0.5.0](https://github.com/hercules-ci/hercules-ci-agent/releases/tag/hercules-ci-agent-0.5.0). The main theme for the release is ease of installation. Running an agent should be as simple as possible, so

 - we've made simplifications to the binary cache configuration and
 - we now provide [terraform modules and an example](https://github.com/hercules-ci/terraform-hercules-ci#readme)

So if you haven't deployed an agent yet, [now is the time!](https://docs.hercules-ci.com/hercules-ci/getting-started/)

If you have and you're using the module (NixOS, NixOps, nix-darwin) the update is entirely self-explanatory. Otherwise, check [the notes](https://github.com/hercules-ci/hercules-ci-agent/releases/tag/hercules-ci-agent-0.5.0).

### Trusted-user

The agent now relies on being a `trusted-user` to the Nix daemon. Looks scary, but it isn't. The agent does not allow projects to execute arbitrary Nix store operations anyway. In fact it may improve security, because it simplifies configuration and secrets handling.

The security model for the agent is simple at this point: only build refs from the actual repo. This way, third-party contributors can not run arbitrary code on your agent system; only contributors with write access to the repo can.

Talking about trust, we'll share some details about securely doing CI for Open Source with Bors soon!
